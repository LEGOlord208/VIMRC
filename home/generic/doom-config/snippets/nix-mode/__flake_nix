# -*- mode: snippet -*-
# --

{
  description = "${0:A really useful tool that does an awesome thing}";

  inputs = {
    utils.url = "github:numtide/flake-utils";
  };

  outputs = { self, nixpkgs, utils }:
    utils.lib.eachDefaultSystem (system: let
      pkgs = nixpkgs.legacyPackages."\${system}";
    in rec {
      # \`nix build\`
      packages.${1:hello} = pkgs.writeShellScriptBin "hello" "echo Hello, World!";
      defaultPackage = packages.$1;

      # \`nix run\`
      apps.$1 = utils.lib.mkApp {
        drv = packages.$1;
      };
      defaultApp = apps.$1;

      # \`nix develop\`
      devShell = pkgs.mkShell {
        buildInputs = with pkgs; [ openssl ];
        nativeBuildInputs = with pkgs; [ gcc ];
      };
    });
}
